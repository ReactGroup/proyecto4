(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},34:function(e,t,c){},40:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);c(30);var n=c(13),s=c(4),i=(c(31),c(6)),a=c(3),r=c(1),o=c.n(r),j=c(21),l=c.n(j),b=c(26),d=(c(34),Object(r.createContext)()),h=c.p+"static/media/coin.b8bc711d.svg",O=c(0);var u=function(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),c=t[0],n=t[1],i=Object(r.useContext)(d),o=i.coins,j=i.setCoins,u=Object(r.useState)(!1),x=Object(s.a)(u,2),p=x[0],m=x[1],f=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"},body:JSON.stringify({amount:c})});case 2:e.sent.json();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function g(e){"1000"===e.target.value?n(1e3):"5000"===e.target.value?n(5e3):"7500"===e.target.value&&n(7500)}return Object(O.jsx)(O.Fragment,{children:p?Object(O.jsx)(a.a,{to:"/"}):Object(O.jsx)("section",{className:"credito",children:Object(O.jsx)("div",{className:"container-credit",children:Object(O.jsxs)("div",{className:"text-container",children:[Object(O.jsx)("h3",{children:"Te quedaste sin puntos"}),Object(O.jsx)("h5",{children:"Ahora pod\xe9s sumar cargando tu nombre de usuario y contrase\xf1a"}),Object(O.jsx)("p",{children:"Recuerda que s\xf3lo podr\xe1s cargar los valores que est\xe1n prestablecidos"}),Object(O.jsx)("div",{className:"form-container",children:Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"btn-container",children:[Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("input",{type:"radio",id:"1000",name:"credit",value:"1000",onChange:g}),Object(O.jsxs)("label",{for:"1000",children:["1000",Object(O.jsx)("img",{src:h,alt:"Coin"})]})]}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("input",{type:"radio",id:"5000",name:"credit",value:"5000",onChange:g}),Object(O.jsxs)("label",{for:"5000",children:["5000",Object(O.jsx)("img",{src:h,alt:"Coin"})]})]}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("input",{type:"radio",id:"7500",name:"credit",value:"7500",onChange:g}),Object(O.jsxs)("label",{for:"7500",children:["7500",Object(O.jsx)("img",{src:h,alt:"Coin"})]})]})]}),Object(O.jsx)("button",{onClick:function(e){f(e),alert("Exito al comprar"),j(o+c),m(!0)},children:"Canjear"})]})})]})})})})},x=(c(40),c(18)),p=c(11);var m=function(){return Object(O.jsx)("footer",{children:Object(O.jsxs)("div",{className:"footer-1440",children:[Object(O.jsx)("p",{children:"Hecho por Tom\xe1s S\xe1nchez Soria"}),Object(O.jsx)("a",{href:"https://twitter.com/tomi_SS",target:"_blank",children:Object(O.jsx)(p.a,{icon:x.c})}),Object(O.jsx)("a",{href:"https://www.linkedin.com/in/sanchezsoria/",target:"_blank",children:Object(O.jsx)(p.a,{icon:x.b})}),Object(O.jsx)("a",{href:"https://github.com/tosaso/",target:"_blank",children:Object(O.jsx)(p.a,{icon:x.a})})]})})},f=(c(44),c.p+"static/media/arrow-right.3306c112.svg"),g=c.p+"static/media/arrow-left.e6eb9be1.svg";var v=function(e){var t=e.pages,c=e.current,n=e.handlePaginador;return Object(O.jsxs)("div",{className:"pagination",children:[c>0&&Object(O.jsxs)("button",{onClick:function(){return n(c-1)},children:[Object(O.jsx)("img",{src:g,alt:"prev"}),"Anterior"]}),c<t-1&&Object(O.jsxs)("button",{onClick:function(){return n(c+1)},children:["Siguiente ",Object(O.jsx)("img",{src:f,alt:"next"})]})]})};var N=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),o=Object(s.a)(a,2),j=(o[0],o[1]),l=Object(r.useState)(0),b=Object(s.a)(l,2),d=b[0],u=b[1],x=Object(r.useState)(0),p=Object(s.a)(x,2),m=p[0],f=p[1];return Object(r.useEffect)((function(){u(Math.ceil(c.length/4)),f(0)}),[c.length]),Object(r.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"}}).then((function(e){return e.json()})).then((function(e){n(e),console.log(e),j(!1)}))}),[]),Object(O.jsxs)("section",{className:"historial",children:[Object(O.jsxs)("div",{className:"historial-container",children:[Object(O.jsx)("div",{className:"pag-state",children:Object(O.jsxs)("p",{children:["P\xe1gina",Object(O.jsxs)("span",{children:[" ",m+1]})," de",Object(O.jsxs)("span",{children:[" ",d]})]})}),0===c.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{className:"title-history",children:"\xbfA\xfan no aprovechaste tus puntos?"}),Object(O.jsx)("button",{className:"btn-history",children:Object(O.jsx)(i.b,{to:"/",style:{textDecoration:"none",color:"black"},children:"Mir\xe1 los premios que tenemos para vos"})})]}),c.length>0&&c.slice(4*m,4*m+4).map((function(e){return Object(O.jsxs)("div",{className:"history-product",children:[Object(O.jsx)("img",{className:"history-img",src:e.img.url,alt:e.name}),Object(O.jsx)("h3",{children:e.name}),Object(O.jsxs)("p",{children:[Object(O.jsx)("img",{src:h,alt:"Coin"})," ",e.cost]})]},e._id)}))]}),Object(O.jsx)(v,{pages:d,current:m,handlePaginador:f})]})},I=c(17);c(25);var y=function(e){return Object(O.jsxs)("div",{className:"each-product",children:[Object(O.jsx)("div",{className:"image-container",children:Object(O.jsx)("img",{src:e.img.url,alt:e.name,className:"image-product"})}),Object(O.jsx)("h5",{className:"category",children:e.category}),Object(O.jsx)("h6",{className:"name-product",children:e.name}),Object(O.jsx)("div",{className:"coins-container",children:Object(O.jsxs)("div",{className:"pruebas-div",children:[Object(O.jsx)("img",{src:h,alt:"Coin"}),Object(O.jsx)("p",{children:e.cost})]})})]},e.id)};c(45);var C=function(e){var t=e.productItem,c=e.copiaProducts,n=Object(r.useState)(!1),o=Object(s.a)(n,2),j=o[0],l=o[1],b=Object(r.useContext)(d),u=b.coins,x=b.setCoins;return Object(O.jsx)(O.Fragment,{children:!t||j?Object(O.jsx)(a.a,{to:"/"}):Object(O.jsxs)("section",{className:"item",children:[Object(O.jsxs)("div",{className:"item-container",children:[Object(O.jsx)("img",{className:"picture",src:t.img.hdUrl,alt:t.name}),Object(O.jsxs)("div",{className:"info-container",children:[Object(O.jsx)("h4",{children:t.category}),Object(O.jsx)("h2",{children:t.name}),Object(O.jsxs)("h5",{children:["Valor: ",Object(O.jsx)("img",{src:h,alt:"coin"}),Object(O.jsx)("span",{children:t.cost})]}),Object(O.jsx)("div",{children:u>=t.cost?Object(O.jsx)("button",{className:"btn-canjear",onClick:function(){return e=t._id,c=t.cost,void fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"},body:JSON.stringify({productId:e})}).then((function(e){x(u-c),alert("Exito al comprar"),l(!0)}));var e,c},children:"Canjear"}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{children:"Te faltan puntos"}),Object(O.jsx)(i.b,{to:"/mas-creditos",style:{textDecoration:"none"},children:Object(O.jsx)("p",{className:"link-to-credit",children:"Haciendo click aqu\xed, podr\xe1s conseguir m\xe1s"})})]})})]})]}),Object(O.jsxs)("div",{className:"similar-container",children:[Object(O.jsx)("h5",{className:"similar-title",children:"Otros productos similares"}),Object(O.jsx)("div",{className:"product-container",children:c.filter((function(e){return e.category===t.category})).map((function(e){return Object(O.jsx)(i.b,{to:"".concat(e._id),style:{textDecoration:"none"},children:Object(O.jsx)(y,Object(I.a)({product:e},e))})}))}),Object(O.jsx)("div",{className:"back-home",children:Object(O.jsx)("button",{className:"btn-home-item",children:Object(O.jsx)(i.b,{to:"/",style:{textDecoration:"none",color:"black"},children:"Mir\xe1 los otros premios que tenemos para vos"})})})]})]})})};c(46);function k(e){var t=e.userData,c=Object(r.useContext)(d).coins;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("header",{className:"header",children:Object(O.jsxs)("div",{className:"width-1440px",children:[Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("img",{src:"",className:"logo",alt:"Logo"})}),Object(O.jsx)("input",{className:"menu-btn",type:"checkbox",id:"menu-btn"}),Object(O.jsx)("label",{className:"menu-icon",for:"menu-btn",children:Object(O.jsx)("span",{class:"navicon"})}),Object(O.jsxs)("ul",{className:"menu",children:[Object(O.jsx)("li",{children:Object(O.jsx)(i.b,{style:{textDecoration:"none",color:"black"},to:"/mas-creditos",children:"M\xe1s Creditos"})}),Object(O.jsx)("li",{children:Object(O.jsx)(i.b,{style:{textDecoration:"none",color:"black"},to:"/historial",children:"Historial"})}),Object(O.jsxs)("li",{className:"data-container",children:[Object(O.jsx)("h4",{className:"nombre-data",children:t.name}),Object(O.jsxs)("div",{className:"coins-amount flex",children:[Object(O.jsx)("img",{src:h,alt:"Coin"}),Object(O.jsx)("p",{children:c})]})]})]})]})})})}var T=function(e){var t=e.productList;return Object(O.jsx)("div",{className:"product-container",children:t.map((function(e){return Object(O.jsx)(i.b,{to:"producto/".concat(e._id),style:{textDecoration:"none"},children:Object(O.jsx)(y,Object(I.a)({product:e},e))})}))})};var J=function(e){var t=e.categoryItems,c=e.filter,i=e.productList,a=Object(r.useState)(i),o=Object(s.a)(a,2),j=(o[0],o[1]),l=t,b={};return l=l.filter((function(e){var t=!b[e.category];return b[e.category]=!0,t})),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("select",{name:"Categorias",id:"categories",onChange:function(e){var n=t.filter((function(t){return"Todas"===e.target.value?t:t.category===e.target.value}));c(n),j(n)},children:[Object(O.jsx)("option",{value:"Todas",children:"Todas"}),l.map((function(e){return Object(O.jsx)("option",{value:e.category,children:e.category},e._id)}))]}),Object(O.jsxs)("div",{className:"price-container",children:[Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("input",{type:"radio",id:"lowest",name:"filter",value:"lowest",onClick:function(e){var t=Object(n.a)(i).sort((function(e,t){return e.cost-t.cost}));c(t)}}),Object(O.jsx)("label",{for:"lowest",children:"Precio m\xe1s bajo"})]}),Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)("input",{type:"radio",id:"highest",name:"filter",value:"highest",onClick:function(e){var t=Object(n.a)(i);console.log(t);var s=t.sort((function(e,t){return t.cost-e.cost}));c(s)}}),Object(O.jsx)("label",{for:"highest",children:"Precio m\xe1s alto"})]})]})]})},M=c(28);var z=function(e){var t=e.productsItems,c=e.categoryItems,n=Object(r.useState)([]),i=Object(s.a)(n,2),a=i[0],o=i[1],j=Object(r.useState)(0),l=Object(s.a)(j,2),b=l[0],d=l[1],h=Object(r.useState)(0),u=Object(s.a)(h,2),x=u[0],m=u[1];return Object(r.useEffect)((function(){d(Math.ceil(a.length/16)),m(0)}),[a.length]),Object(r.useEffect)((function(){0===a.length&&o(t)})),Object(O.jsxs)("div",{className:"productos",children:[Object(O.jsx)("div",{className:"portada"}),Object(O.jsx)("div",{className:"filter-container",children:Object(O.jsxs)("form",{className:"filters flex",children:[Object(O.jsx)(J,{productList:a,categoryItems:c,filter:function(e){o(e)}}),Object(O.jsxs)("button",{type:"reset",onClick:function(){o(t)},children:[Object(O.jsx)(p.a,{icon:M.a}),"Borrar filtros"]})]})}),Object(O.jsx)(T,{productList:a.slice(16*x,16*x+16)}),Object(O.jsx)(v,{pages:b,current:x,handlePaginador:m})]})};function S(){var e=Object(a.f)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var w=function(){var e=Object(r.useContext)(d).setCoins,t=Object(r.useState)([]),c=Object(s.a)(t,2),o=c[0],j=c[1];Object(r.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"}}).then((function(e){return e.json()})).then((function(t){j(t),e(t.points)}))}),[]);var l=Object(r.useState)([]),b=Object(s.a)(l,2),h=b[0],x=b[1],p=Object(r.useState)([]),f=Object(s.a)(p,2),g=f[0],v=f[1];Object(r.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/products",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk"}}).then((function(e){return e.json()})).then((function(e){x(e),v(e)}))}),[]);var I=Object(n.a)(h);return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)(i.a,{children:[Object(O.jsx)(S,{}),Object(O.jsx)(k,{userData:o}),Object(O.jsx)(a.b,{exact:!0,path:"/",children:Object(O.jsx)(z,{productsItems:h,categoryItems:g})}),Object(O.jsx)(a.b,{path:"/mas-creditos",children:Object(O.jsx)(u,{})}),Object(O.jsx)(a.b,{path:"/historial",children:Object(O.jsx)(N,{})}),Object(O.jsx)(a.b,{path:"/producto/:id",render:function(e){var t=e.match;return Object(O.jsx)(C,{copiaProducts:I,productItem:h.find((function(e){return e._id===t.params.id}))})}})]}),Object(O.jsx)(m,{})]})};var A=function(e){var t=e.children,c=Object(r.useState)(0),n=Object(s.a)(c,2),i=n[0],a=n[1];return Object(O.jsx)(d.Provider,{value:{coins:i,setCoins:a},children:t})},G=c(29);c.n(G).a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(A,{children:Object(O.jsx)(w,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.795eecbd.chunk.js.map