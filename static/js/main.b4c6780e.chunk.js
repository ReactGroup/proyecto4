(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},34:function(e,t,c){},40:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);c(30);var n=c(13),s=c(4),a=(c(31),c(6)),i=c(3),r=c(1),o=c.n(r),j=c(21),l=c.n(j),b=c(26),d=(c(34),c.p+"static/media/coin.b8bc711d.svg"),h=Object(r.createContext)(),u=c(0);var O=function(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(r.useContext)(h),o=a.coins,j=a.setCoins,O=Object(r.useState)(!1),x=Object(s.a)(O,2),p=x[0],m=x[1],f=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"},body:JSON.stringify({amount:c})});case 2:e.sent.json();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function g(e){"1000"===e.target.value?n(1e3):"5000"===e.target.value?n(5e3):"7500"===e.target.value&&n(7500)}return Object(u.jsx)(u.Fragment,{children:p?Object(u.jsx)(i.a,{to:"/"}):Object(u.jsx)("section",{className:"credito",children:Object(u.jsxs)("div",{className:"container-credit",children:[Object(u.jsxs)("div",{className:"text-container",children:[Object(u.jsx)("h3",{children:"Te quedaste sin puntos"}),Object(u.jsx)("h5",{children:"Ahora pod\xe9s sumar cargando tu nombre de usuario y contrase\xf1a"}),Object(u.jsx)("p",{children:"Recuerda que s\xf3lo podr\xe1s cargar los valores que est\xe1n prestablecidos"})]}),Object(u.jsx)("div",{className:"form-container",children:Object(u.jsxs)("form",{action:"",children:[Object(u.jsx)("input",{className:"input user",placeholder:"Usuario",type:"text"}),Object(u.jsx)("input",{className:"input pass",placeholder:"Contrase\xf1a",type:"text"}),Object(u.jsxs)("div",{className:"btn-container",children:[Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("input",{type:"radio",id:"1000",name:"credit",value:"1000",onChange:g}),Object(u.jsxs)("label",{for:"1000",children:["1000",Object(u.jsx)("img",{src:d,alt:"Coin"})]})]}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("input",{type:"radio",id:"5000",name:"credit",value:"5000",onChange:g}),Object(u.jsxs)("label",{for:"5000",children:["5000",Object(u.jsx)("img",{src:d,alt:"Coin"})]})]}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("input",{type:"radio",id:"7500",name:"credit",value:"7500",onChange:g}),Object(u.jsxs)("label",{for:"7500",children:["7500",Object(u.jsx)("img",{src:d,alt:"Coin"})]})]})]}),Object(u.jsx)("button",{onClick:function(e){f(e),alert("Exito al comprar"),j(o+c),m(!0)},children:"Canjear"})]})})]})})})},x=(c(40),c(18)),p=c(11);var m=function(){return Object(u.jsx)("footer",{children:Object(u.jsxs)("div",{className:"footer-1440",children:[Object(u.jsx)("p",{children:"Hecho por Tom\xe1s S\xe1nchez Soria"}),Object(u.jsx)("a",{href:"https://twitter.com/tomi_SS",target:"_blank",children:Object(u.jsx)(p.a,{icon:x.c})}),Object(u.jsx)("a",{href:"https://www.linkedin.com/in/sanchezsoria/",target:"_blank",children:Object(u.jsx)(p.a,{icon:x.b})}),Object(u.jsx)("a",{href:"https://github.com/tosaso/",target:"_blank",children:Object(u.jsx)(p.a,{icon:x.a})})]})})},f=(c(44),c.p+"static/media/arrow-right.3306c112.svg"),g=c.p+"static/media/arrow-left.e6eb9be1.svg";var v=function(e){var t=e.pages,c=e.current,n=e.handlePaginador;return Object(u.jsxs)("div",{className:"pagination",children:[c>0&&Object(u.jsxs)("button",{onClick:function(){return n(c-1)},children:[Object(u.jsx)("img",{src:g,alt:"prev"}),"Anterior"]}),c<t-1&&Object(u.jsxs)("button",{onClick:function(){return n(c+1)},children:["Siguiente ",Object(u.jsx)("img",{src:f,alt:"next"})]})]})};var N=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)(!1),o=Object(s.a)(i,2),j=(o[0],o[1]),l=Object(r.useState)(0),b=Object(s.a)(l,2),h=b[0],O=b[1],x=Object(r.useState)(0),p=Object(s.a)(x,2),m=p[0],f=p[1];return Object(r.useEffect)((function(){O(Math.ceil(c.length/4)),f(0)}),[c.length]),Object(r.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"}}).then((function(e){return e.json()})).then((function(e){n(e),console.log(e),j(!1)}))}),[]),Object(u.jsxs)("section",{className:"historial",children:[Object(u.jsxs)("div",{className:"historial-container",children:[0===c.length&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h4",{className:"title-history",children:"\xbfA\xfan no aprovechaste tus puntos?"}),Object(u.jsx)("button",{className:"btn-history",children:Object(u.jsx)(a.b,{to:"/",style:{textDecoration:"none",color:"black"},children:"Mir\xe1 los premios que tenemos para vos"})})]}),c.length>0&&c.slice(4*m,4*m+4).map((function(e){return Object(u.jsxs)("div",{className:"history-product",children:[Object(u.jsx)("img",{className:"history-img",src:e.img.url,alt:e.name}),Object(u.jsx)("h3",{children:e.name}),Object(u.jsxs)("p",{children:[Object(u.jsx)("img",{src:d,alt:"Coin"})," ",e.cost]})]})}))]}),Object(u.jsx)(v,{pages:h,current:m,handlePaginador:f})]})},y=c(17);c(45),c(25);var I=function(e){return Object(u.jsxs)("div",{className:"each-product",children:[Object(u.jsx)("div",{className:"image-container",children:Object(u.jsx)("img",{src:e.img.url,alt:e.name,className:"image-product"})}),Object(u.jsx)("h5",{className:"category",children:e.category}),Object(u.jsx)("h6",{className:"name-product",children:e.name}),Object(u.jsx)("div",{className:"coins-container",children:Object(u.jsxs)("div",{className:"pruebas-div",children:[Object(u.jsx)("img",{src:d,alt:"Coin"}),Object(u.jsx)("p",{children:e.cost})]})})]},e.id)};var C=function(e){var t=e.productItem,c=e.copiaProducts,n=Object(r.useState)(!1),o=Object(s.a)(n,2),j=o[0],l=o[1],b=Object(r.useContext)(h),O=b.coins,x=b.setCoins;return Object(u.jsx)(u.Fragment,{children:!t||j?Object(u.jsx)(i.a,{to:"/"}):Object(u.jsxs)("section",{className:"item",children:[Object(u.jsxs)("div",{className:"item-container",children:[Object(u.jsx)("img",{className:"picture",src:t.img.hdUrl,alt:t.name}),Object(u.jsxs)("div",{className:"info-container",children:[Object(u.jsx)("h4",{children:t.category}),Object(u.jsx)("h2",{children:t.name}),Object(u.jsxs)("h5",{children:["Valor: ",Object(u.jsx)("img",{src:d,alt:"coin"}),Object(u.jsx)("span",{children:t.cost})]}),Object(u.jsx)("div",{children:O>=t.cost?Object(u.jsxs)("button",{onClick:function(){return e=t._id,c=t.cost,console.log(e,c),void fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"},body:JSON.stringify({productId:e})}).then((function(e){x(O-c),alert("Exito al comprar"),l(!0)}));var e,c},children:["Canjear",Object(u.jsx)("img",{src:"",alt:"Buy"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h4",{children:"Te faltan puntos"}),Object(u.jsx)(a.b,{to:"/mas-creditos",children:Object(u.jsx)("p",{children:"Haciendo click aqu\xed, podr\xe1s conseguir m\xe1s"})})]})})]})]}),Object(u.jsxs)("div",{className:"similar-container",children:[Object(u.jsx)("h5",{className:"similar-title",children:"Otros productos similares"}),Object(u.jsx)("div",{className:"product-container",children:c.filter((function(e){return e.category===t.category})).map((function(e){return Object(u.jsx)(a.b,{to:"".concat(e._id),style:{textDecoration:"none"},children:Object(u.jsx)(I,Object(y.a)({product:e},e))})}))}),Object(u.jsx)("div",{className:"back-home",children:Object(u.jsx)("button",{className:"btn-home-item",children:Object(u.jsx)(a.b,{to:"/",style:{textDecoration:"none",color:"black"},children:"Mir\xe1 los otros premios que tenemos para vos"})})})]})]})})};c(46);function T(e){var t=e.userData,c=Object(r.useContext)(h).coins;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{className:"width-1440px",children:[Object(u.jsx)(a.b,{to:"/",children:Object(u.jsx)("img",{src:"",className:"logo",alt:"Logo"})}),Object(u.jsx)("input",{className:"menu-btn",type:"checkbox",id:"menu-btn"}),Object(u.jsx)("label",{className:"menu-icon",for:"menu-btn",children:Object(u.jsx)("span",{class:"navicon"})}),Object(u.jsxs)("ul",{className:"menu",children:[Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{style:{textDecoration:"none",color:"black"},to:"/mas-creditos",children:"M\xe1s Creditos"})}),Object(u.jsx)("li",{children:Object(u.jsx)(a.b,{style:{textDecoration:"none",color:"black"},to:"/historial",children:"Historial"})}),Object(u.jsxs)("li",{className:"data-container",children:[Object(u.jsx)("h4",{className:"nombre-data",children:t.name}),Object(u.jsxs)("div",{className:"coins-amount flex",children:[Object(u.jsx)("img",{src:d,alt:"Coin"}),Object(u.jsx)("p",{children:c})]})]})]})]})})})}var k=function(e){var t=e.productList;return Object(u.jsx)("div",{className:"product-container",children:t.map((function(e){return Object(u.jsx)(a.b,{to:"producto/".concat(e._id),style:{textDecoration:"none"},children:Object(u.jsx)(I,Object(y.a)({product:e},e))})}))})};var J=function(e){var t=e.categoryItems,c=e.filter,a=e.productList,i=Object(r.useState)(a),o=Object(s.a)(i,2),j=(o[0],o[1]),l=t,b={};return l=l.filter((function(e){var t=!b[e.category];return b[e.category]=!0,t})),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("select",{name:"Categorias",id:"categories",onChange:function(e){var n=t.filter((function(t){return"Todas"===e.target.value?t:t.category===e.target.value}));c(n),j(n)},children:[Object(u.jsx)("option",{value:"Todas",children:"Todas"}),l.map((function(e){return Object(u.jsx)("option",{value:e.category,children:e.category},e._id)}))]}),Object(u.jsxs)("div",{className:"price-container",children:[Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("input",{type:"radio",id:"lowest",name:"filter",value:"lowest",onClick:function(e){var t=Object(n.a)(a).sort((function(e,t){return e.cost-t.cost}));c(t)}}),Object(u.jsx)("label",{for:"lowest",children:"Precio m\xe1s bajo"})]}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)("input",{type:"radio",id:"highest",name:"filter",value:"highest",onClick:function(e){var t=Object(n.a)(a);console.log(t);var s=t.sort((function(e,t){return t.cost-e.cost}));c(s)}}),Object(u.jsx)("label",{for:"highest",children:"Precio m\xe1s alto"})]})]})]})},M=c(28);var z=function(e){var t=e.productsItems,c=e.categoryItems,n=Object(r.useState)([]),a=Object(s.a)(n,2),i=a[0],o=a[1],j=Object(r.useState)(0),l=Object(s.a)(j,2),b=l[0],d=l[1],h=Object(r.useState)(0),O=Object(s.a)(h,2),x=O[0],m=O[1];return Object(r.useEffect)((function(){d(Math.ceil(i.length/16)),m(0),console.log("text random")}),[i.length]),Object(r.useEffect)((function(){0===i.length&&o(t)})),Object(u.jsxs)("div",{className:"productos",children:[Object(u.jsx)("div",{className:"portada"}),Object(u.jsx)("div",{className:"filter-container",children:Object(u.jsxs)("form",{className:"filters flex",children:[Object(u.jsx)(J,{productList:i,categoryItems:c,filter:function(e){o(e)}}),Object(u.jsxs)("button",{type:"reset",onClick:function(){o(t)},children:[Object(u.jsx)(p.a,{icon:M.a}),"Borrar filtros"]})]})}),Object(u.jsx)(k,{productList:i.slice(16*x,16*x+16)}),Object(u.jsx)(v,{pages:b,current:x,handlePaginador:function(e){m(e)}})]})};var S=function(){var e=Object(r.useContext)(h).setCoins,t=Object(r.useState)([]),c=Object(s.a)(t,2),o=c[0],j=c[1];Object(r.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"}}).then((function(e){return e.json()})).then((function(t){j(t),e(t.points)}))}),[]);var l=Object(r.useState)([]),b=Object(s.a)(l,2),d=b[0],x=b[1],p=Object(r.useState)([]),f=Object(s.a)(p,2),g=f[0],v=f[1];Object(r.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/products",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk"}}).then((function(e){return e.json()})).then((function(e){x(e),v(e)}))}),[]);var y=Object(n.a)(d);return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)(a.a,{children:[Object(u.jsx)(T,{userData:o}),Object(u.jsx)(i.b,{exact:!0,path:"/",children:Object(u.jsx)(z,{productsItems:d,categoryItems:g})}),Object(u.jsx)(i.b,{path:"/mas-creditos",children:Object(u.jsx)(O,{})}),Object(u.jsx)(i.b,{path:"/historial",children:Object(u.jsx)(N,{})}),Object(u.jsx)(i.b,{path:"/producto/:id",render:function(e){var t=e.match;return Object(u.jsx)(C,{copiaProducts:y,productItem:d.find((function(e){return e._id===t.params.id}))})}})]}),Object(u.jsx)(m,{})]})};var w=function(e){var t=e.children,c=Object(r.useState)(0),n=Object(s.a)(c,2),a=n[0],i=n[1];return Object(u.jsx)(h.Provider,{value:{coins:a,setCoins:i},children:t})},A=c(29);function G(){var e=Object(i.f)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}c.n(A).a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsxs)(w,{children:[Object(u.jsx)(G,{}),Object(u.jsx)(S,{})]})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.b4c6780e.chunk.js.map