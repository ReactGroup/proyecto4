(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},34:function(e,t,c){},40:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);c(30);var n=c(13),s=c(4),a=(c(31),c(3)),i=c(1),r=c.n(i),o=c(21),j=c.n(o),l=c(26),b=(c(34),c.p+"static/media/coin.b8bc711d.svg"),d=Object(i.createContext)(),h=c(0);var u=function(){var e=Object(i.useState)(0),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(i.useContext)(d),o=r.coins,u=r.setCoins,O=Object(i.useState)(!1),x=Object(s.a)(O,2),p=x[0],m=x[1],f=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"},body:JSON.stringify({amount:c})});case 2:e.sent.json();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function g(e){"1000"===e.target.value?n(1e3):"5000"===e.target.value?n(5e3):"7500"===e.target.value&&n(7500)}return Object(h.jsx)(h.Fragment,{children:p?Object(h.jsx)(a.a,{to:"/"}):Object(h.jsx)("section",{className:"credito",children:Object(h.jsxs)("div",{className:"container-credit",children:[Object(h.jsxs)("div",{className:"text-container",children:[Object(h.jsx)("h3",{children:"Te quedaste sin puntos"}),Object(h.jsx)("h5",{children:"Ahora pod\xe9s sumar cargando tu nombre de usuario y contrase\xf1a"}),Object(h.jsx)("p",{children:"Recuerda que s\xf3lo podr\xe1s cargar los valores que est\xe1n prestablecidos"})]}),Object(h.jsx)("div",{className:"form-container",children:Object(h.jsxs)("form",{action:"",children:[Object(h.jsx)("input",{className:"input user",placeholder:"Usuario",type:"text"}),Object(h.jsx)("input",{className:"input pass",placeholder:"Contrase\xf1a",type:"text"}),Object(h.jsxs)("div",{className:"btn-container",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("input",{type:"radio",id:"1000",name:"credit",value:"1000",onChange:g}),Object(h.jsxs)("label",{for:"1000",children:["1000",Object(h.jsx)("img",{src:b,alt:"Coin"})]})]}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("input",{type:"radio",id:"5000",name:"credit",value:"5000",onChange:g}),Object(h.jsxs)("label",{for:"5000",children:["5000",Object(h.jsx)("img",{src:b,alt:"Coin"})]})]}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("input",{type:"radio",id:"7500",name:"credit",value:"7500",onChange:g}),Object(h.jsxs)("label",{for:"7500",children:["7500",Object(h.jsx)("img",{src:b,alt:"Coin"})]})]})]}),Object(h.jsx)("button",{onClick:function(e){f(e),alert("Exito al comprar"),u(o+c),m(!0)},children:"Canjear"})]})})]})})})},O=(c(40),c(18)),x=c(11);var p=function(){return Object(h.jsx)("footer",{children:Object(h.jsxs)("div",{className:"footer-1440",children:[Object(h.jsx)("p",{children:"Hecho por Tom\xe1s S\xe1nchez Soria"}),Object(h.jsx)("a",{href:"https://twitter.com/tomi_SS",target:"_blank",children:Object(h.jsx)(x.a,{icon:O.c})}),Object(h.jsx)("a",{href:"https://www.linkedin.com/in/sanchezsoria/",target:"_blank",children:Object(h.jsx)(x.a,{icon:O.b})}),Object(h.jsx)("a",{href:"https://github.com/tosaso/",target:"_blank",children:Object(h.jsx)(x.a,{icon:O.a})})]})})},m=(c(44),c(6)),f=c.p+"static/media/arrow-right.3306c112.svg",g=c.p+"static/media/arrow-left.e6eb9be1.svg";var v=function(e){var t=e.pages,c=e.current,n=e.handlePaginador;return Object(h.jsxs)("div",{className:"pagination",children:[c>0&&Object(h.jsxs)("button",{onClick:function(){return n(c-1)},children:[Object(h.jsx)("img",{src:g,alt:"prev"}),"Anterior"]}),c<t-1&&Object(h.jsxs)("button",{onClick:function(){return n(c+1)},children:["Siguiente ",Object(h.jsx)("img",{src:f,alt:"next"})]})]})};var N=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(i.useState)(!1),r=Object(s.a)(a,2),o=(r[0],r[1]),j=Object(i.useState)(0),l=Object(s.a)(j,2),d=l[0],u=l[1],O=Object(i.useState)(0),x=Object(s.a)(O,2),p=x[0],f=x[1];return Object(i.useEffect)((function(){u(Math.ceil(c.length/4)),f(0)}),[c.length]),Object(i.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/history",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"}}).then((function(e){return e.json()})).then((function(e){n(e),console.log(e),o(!1)}))}),[]),Object(h.jsxs)("section",{className:"historial",children:[Object(h.jsxs)("div",{className:"historial-container",children:[0===c.length&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h4",{className:"title-history",children:"\xbfA\xfan no aprovechaste tus puntos?"}),Object(h.jsx)("button",{className:"btn-history",children:Object(h.jsx)(m.b,{to:"/",style:{textDecoration:"none",color:"black"},children:"Mir\xe1 los premios que tenemos para vos"})})]}),c.length>0&&c.slice(4*p,4*p+4).map((function(e){return Object(h.jsxs)("div",{className:"history-product",children:[Object(h.jsx)("img",{className:"history-img",src:e.img.url,alt:e.name}),Object(h.jsx)("h3",{children:e.name}),Object(h.jsxs)("p",{children:[Object(h.jsx)("img",{src:b,alt:"Coin"})," ",e.cost]})]})}))]}),Object(h.jsx)(v,{pages:d,current:p,handlePaginador:f})]})},y=c(17);c(45),c(25);var I=function(e){return Object(h.jsxs)("div",{className:"each-product",children:[Object(h.jsx)("div",{className:"image-container",children:Object(h.jsx)("img",{src:e.img.url,alt:e.name,className:"image-product"})}),Object(h.jsx)("h5",{className:"category",children:e.category}),Object(h.jsx)("h6",{className:"name-product",children:e.name}),Object(h.jsx)("div",{className:"coins-container",children:Object(h.jsxs)("div",{className:"pruebas-div",children:[Object(h.jsx)("img",{src:b,alt:"Coin"}),Object(h.jsx)("p",{children:e.cost})]})})]},e.id)};var C=function(e){var t=e.productItem,c=e.copiaProducts,n=Object(i.useState)(!1),r=Object(s.a)(n,2),o=r[0],j=r[1],l=Object(i.useContext)(d),u=l.coins,O=l.setCoins;return Object(h.jsx)(h.Fragment,{children:!t||o?Object(h.jsx)(a.a,{to:"/"}):Object(h.jsxs)("section",{className:"item",children:[Object(h.jsxs)("div",{className:"item-container",children:[Object(h.jsx)("img",{className:"picture",src:t.img.hdUrl,alt:t.name}),Object(h.jsxs)("div",{className:"info-container",children:[Object(h.jsx)("h4",{children:t.category}),Object(h.jsx)("h2",{children:t.name}),Object(h.jsxs)("h5",{children:["Valor: ",Object(h.jsx)("img",{src:b,alt:"coin"}),Object(h.jsx)("span",{children:t.cost})]}),Object(h.jsx)("div",{children:u>=t.cost?Object(h.jsxs)("button",{onClick:function(){return e=t._id,c=t.cost,console.log(e,c),void fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"},body:JSON.stringify({productId:e})}).then((function(e){O(u-c),alert("Exito al comprar"),j(!0)}));var e,c},children:["Canjear",Object(h.jsx)("img",{src:"",alt:"Buy"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h4",{children:"Te faltan puntos"}),Object(h.jsx)(m.b,{to:"/mas-creditos",children:Object(h.jsx)("p",{children:"Haciendo click aqu\xed, podr\xe1s conseguir m\xe1s"})})]})})]})]}),Object(h.jsxs)("div",{className:"similar-container",children:[Object(h.jsx)("h5",{className:"similar-title",children:"Otros productos similares"}),Object(h.jsx)("div",{className:"product-container",children:c.filter((function(e){return e.category===t.category})).map((function(e){return Object(h.jsx)(m.b,{to:"".concat(e._id),style:{textDecoration:"none"},children:Object(h.jsx)(I,Object(y.a)({product:e},e))})}))}),Object(h.jsx)("div",{className:"back-home",children:Object(h.jsx)("button",{className:"btn-home-item",children:Object(h.jsx)(m.b,{to:"/",style:{textDecoration:"none",color:"black"},children:"Mir\xe1 los otros premios que tenemos para vos"})})})]})]})})};c(46);function T(e){var t=e.userData,c=Object(i.useContext)(d).coins;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("header",{className:"header",children:Object(h.jsxs)("div",{className:"width-1440px",children:[Object(h.jsx)(m.b,{to:"/",children:Object(h.jsx)("img",{src:"",className:"logo",alt:"Logo"})}),Object(h.jsx)("input",{className:"menu-btn",type:"checkbox",id:"menu-btn"}),Object(h.jsx)("label",{className:"menu-icon",for:"menu-btn",children:Object(h.jsx)("span",{class:"navicon"})}),Object(h.jsxs)("ul",{className:"menu",children:[Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{style:{textDecoration:"none",color:"black"},to:"/mas-creditos",children:"M\xe1s Creditos"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{style:{textDecoration:"none",color:"black"},to:"/historial",children:"Historial"})}),Object(h.jsxs)("li",{className:"data-container",children:[Object(h.jsx)("h4",{className:"nombre-data",children:t.name}),Object(h.jsxs)("div",{className:"coins-amount flex",children:[Object(h.jsx)("img",{src:b,alt:"Coin"}),Object(h.jsx)("p",{children:c})]})]})]})]})})})}var k=function(e){var t=e.productList;return Object(h.jsx)("div",{className:"product-container",children:t.map((function(e){return Object(h.jsx)(m.b,{to:"producto/".concat(e._id),style:{textDecoration:"none"},children:Object(h.jsx)(I,Object(y.a)({product:e},e))})}))})};var J=function(e){var t=e.categoryItems,c=e.filter,a=e.productList,r=Object(i.useState)(a),o=Object(s.a)(r,2),j=(o[0],o[1]),l=t,b={};return l=l.filter((function(e){var t=!b[e.category];return b[e.category]=!0,t})),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("select",{name:"Categorias",id:"categories",onChange:function(e){var n=t.filter((function(t){return"Todas"===e.target.value?t:t.category===e.target.value}));c(n),j(n)},children:[Object(h.jsx)("option",{value:"Todas",children:"Todas"}),l.map((function(e){return Object(h.jsx)("option",{value:e.category,children:e.category},e._id)}))]}),Object(h.jsxs)("div",{className:"price-container",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("input",{type:"radio",id:"lowest",name:"filter",value:"lowest",onClick:function(e){var t=Object(n.a)(a).sort((function(e,t){return e.cost-t.cost}));c(t)}}),Object(h.jsx)("label",{for:"lowest",children:"Precio m\xe1s bajo"})]}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("input",{type:"radio",id:"highest",name:"filter",value:"highest",onClick:function(e){var t=Object(n.a)(a);console.log(t);var s=t.sort((function(e,t){return t.cost-e.cost}));c(s)}}),Object(h.jsx)("label",{for:"highest",children:"Precio m\xe1s alto"})]})]})]})},M=c(28);var z=function(e){var t=e.productsItems,c=e.categoryItems,n=Object(i.useState)([]),a=Object(s.a)(n,2),r=a[0],o=a[1],j=Object(i.useState)(0),l=Object(s.a)(j,2),b=l[0],d=l[1],u=Object(i.useState)(0),O=Object(s.a)(u,2),p=O[0],m=O[1];return Object(i.useEffect)((function(){d(Math.ceil(r.length/16)),m(0),console.log("text random")}),[r.length]),Object(i.useEffect)((function(){0===r.length&&o(t)})),Object(h.jsxs)("div",{className:"productos",children:[Object(h.jsx)("div",{className:"portada"}),Object(h.jsx)("div",{className:"filter-container",children:Object(h.jsxs)("form",{className:"filters flex",children:[Object(h.jsx)(J,{productList:r,categoryItems:c,filter:function(e){o(e)}}),Object(h.jsxs)("button",{type:"reset",onClick:function(){o(t)},children:[Object(h.jsx)(x.a,{icon:M.a}),"Borrar filtros"]})]})}),Object(h.jsx)(k,{productList:r.slice(16*p,16*p+16)}),Object(h.jsx)(v,{pages:b,current:p,handlePaginador:function(e){m(e)}})]})};var S=function(){var e=Object(i.useContext)(d).setCoins,t=Object(i.useState)([]),c=Object(s.a)(t,2),r=c[0],o=c[1];Object(i.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno"}}).then((function(e){return e.json()})).then((function(t){o(t),e(t.points)}))}),[]);var j=Object(i.useState)([]),l=Object(s.a)(j,2),b=l[0],O=l[1],x=Object(i.useState)([]),m=Object(s.a)(x,2),f=m[0],g=m[1];Object(i.useEffect)((function(){fetch("https://coding-challenge-api.aerolab.co/products",{headers:{"Content-type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk"}}).then((function(e){return e.json()})).then((function(e){O(e),g(e)}))}),[]);var v=Object(n.a)(b);return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(T,{userData:r}),Object(h.jsx)(a.b,{exact:!0,path:"/",children:Object(h.jsx)(z,{productsItems:b,categoryItems:f})}),Object(h.jsx)(a.b,{exact:!0,path:"/mas-creditos",children:Object(h.jsx)(u,{})}),Object(h.jsx)(a.b,{exact:!0,path:"/historial",children:Object(h.jsx)(N,{})}),Object(h.jsx)(a.b,{exact:!0,path:"/producto/:id",render:function(e){var t=e.match;return Object(h.jsx)(C,{copiaProducts:v,productItem:b.find((function(e){return e._id===t.params.id}))})}}),Object(h.jsx)(p,{})]})};var w=function(e){var t=e.children,c=Object(i.useState)(0),n=Object(s.a)(c,2),a=n[0],r=n[1];return Object(h.jsx)(d.Provider,{value:{coins:a,setCoins:r},children:t})},A=c(29);function G(){var e=Object(a.f)().pathname;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}c.n(A).a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(w,{children:Object(h.jsxs)(m.a,{children:[Object(h.jsx)(G,{}),Object(h.jsx)(S,{})]})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.05f6ed7c.chunk.js.map