{"ast":null,"code":"import _slicedToArray from\"/Users/Tomi_SS/Documents/acamica-frontend/proyecto04/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./historial.css';import{useEffect,useState}from\"react\";import{Link}from'react-router-dom';import Paginador from'../productos/Paginador';import React from'react';import coin from\"../images/icons/coin.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Historial(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),history=_useState2[0],setHistory=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),searchHistory=_useState4[0],setSearchHistory=_useState4[1];// paginador;\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),pages=_useState6[0],setPages=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),current=_useState8[0],setCurrent=_useState8[1];var size=4;useEffect(function(){setPages(Math.ceil(history.length/size));setCurrent(0);},[history.length]);// fin paginador;\nuseEffect(function(){var api=fetch(\"https://coding-challenge-api.aerolab.co/user/history\",{headers:{\"Content-type\":\"application/json\",\"Accept\":\"application/json\",\"Authorization\":\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno\"// prueba con el token del proyecto\n//\"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk\",\n}});api.then(function(response){return response.json();}).then(function(results){setHistory(results);console.log(results);setSearchHistory(false);});},[]);return/*#__PURE__*/_jsxs(\"section\",{className:\"historial\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"historial-container\",children:[history.length===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"title-history\",children:\"\\xBFA\\xFAn no aprovechaste tus puntos?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-history\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:'none',color:'black'},children:\"Mir\\xE1 los premios que tenemos para vos\"})})]}),history.length>0&&history.slice(current*size,current*size+size).map(function(history){return/*#__PURE__*/_jsxs(\"div\",{className:\"history-product\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"history-img\",src:history.img.url,alt:history.name}),/*#__PURE__*/_jsx(\"h3\",{children:history.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{src:coin,alt:\"Coin\"}),\" \",history.cost]})]});})]}),/*#__PURE__*/_jsx(Paginador,{pages:pages,current:current,handlePaginador:setCurrent})]});}export default Historial;","map":{"version":3,"sources":["/Users/Tomi_SS/Documents/acamica-frontend/proyecto04/my-app/src/historial/Historial.jsx"],"names":["useEffect","useState","Link","Paginador","React","Historial","history","setHistory","searchHistory","setSearchHistory","pages","setPages","current","setCurrent","size","Math","ceil","length","api","fetch","headers","then","response","json","results","console","log","textDecoration","color","slice","map","img","url","name","coin","cost"],"mappings":"kLAAA,MAAO,iBAAP,CAEA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wLAGA,QAASC,CAAAA,SAAT,EAAoB,CAEhB,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAA0CN,QAAQ,CAAC,KAAD,CAAlD,yCAAOO,aAAP,eAAsBC,gBAAtB,eACA;AACA,eAA0BR,QAAQ,CAAC,CAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eACA,eAA8BV,QAAQ,CAAC,CAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,IAAI,CAAG,CAAb,CAEAd,SAAS,CAAC,UAAI,CACVW,QAAQ,CAACI,IAAI,CAACC,IAAL,CAAUV,OAAO,CAACW,MAAR,CAAeH,IAAzB,CAAD,CAAR,CACAD,UAAU,CAAC,CAAD,CAAV,CACH,CAHQ,CAGP,CAACP,OAAO,CAACW,MAAT,CAHO,CAAT,CAKA;AACAjB,SAAS,CAAC,UAAK,CACX,GAAIkB,CAAAA,GAAG,CAAGC,KAAK,CAAC,sDAAD,CAAwD,CACrEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,SAAW,kBAFJ,CAGN,gBAAiB,8JAClB;AACA;AALO,CAD4D,CAAxD,CAAf,CASAF,GAAG,CACFG,IADD,CACM,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAHD,EAICF,IAJD,CAIM,SAACG,OAAD,CAAa,CACfjB,UAAU,CAACiB,OAAD,CAAV,CACAC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EACAf,gBAAgB,CAAC,KAAD,CAAhB,CACH,CARD,EASD,CAnBM,CAmBL,EAnBK,CAAT,CAsBA,mBACI,iBAAS,SAAS,CAAC,WAAnB,wBACI,aAAK,SAAS,CAAC,qBAAf,WACMH,OAAO,CAACW,MAAR,GAAmB,CAAnB,eACF,wCACA,WAAI,SAAS,CAAC,eAAd,oDADA,cAEA,eAAQ,SAAS,CAAC,aAAlB,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,KAAK,CAAE,CAAEU,cAAc,CAAE,MAAlB,CAA0BC,KAAK,CAAC,OAAhC,CAApB,sDADJ,EAFA,GAFJ,CASKtB,OAAO,CAACW,MAAR,CAAiB,CAAjB,EACGX,OAAO,CAACuB,KAAR,CAAcjB,OAAO,CAACE,IAAtB,CAA4BF,OAAO,CAACE,IAAR,CAAaA,IAAzC,EACMgB,GADN,CACU,SAACxB,OAAD,qBACF,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAEA,OAAO,CAACyB,GAAR,CAAYC,GAA9C,CAAmD,GAAG,CAAE1B,OAAO,CAAC2B,IAAhE,EADJ,cAEI,oBAAK3B,OAAO,CAAC2B,IAAb,EAFJ,cAGI,kCAAG,YAAK,GAAG,CAAEC,IAAV,CAAgB,GAAG,CAAC,MAApB,EAAH,KAAiC5B,OAAO,CAAC6B,IAAzC,GAHJ,GADE,EADV,CAVR,GADJ,cAqBI,KAAC,SAAD,EACI,KAAK,CAAEzB,KADX,CAEI,OAAO,CAAEE,OAFb,CAGI,eAAe,CAAEC,UAHrB,EArBJ,GADJ,CA8BH,CAED,cAAeR,CAAAA,SAAf","sourcesContent":["import './historial.css';\n\nimport { useEffect, useState } from \"react\";\n\nimport { Link } from 'react-router-dom';\nimport Paginador from '../productos/Paginador'\nimport React from 'react'\nimport coin from '../images/icons/coin.svg'\n\nfunction Historial(){\n\n    const [history, setHistory] = useState([])\n    const [searchHistory, setSearchHistory] = useState(false);\n    // paginador;\n    const [pages, setPages] = useState(0);\n    const [current, setCurrent] = useState(0);\n    const size = 4;\n\n    useEffect(()=>{\n        setPages(Math.ceil(history.length/size));\n        setCurrent(0)\n    },[history.length])\n\n    // fin paginador;\n    useEffect(() =>{\n        let api = fetch(\"https://coding-challenge-api.aerolab.co/user/history\",{\n          headers: {\n            \"Content-type\": \"application/json\",\n            \"Accept\" : \"application/json\",\n             \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno\",\n            // prueba con el token del proyecto\n            //\"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk\",\n          }\n        });\n        api \n        .then((response) => {\n          return response.json();\n        })\n        .then((results) => {\n            setHistory(results);\n            console.log(results);\n            setSearchHistory(false);\n        })\n      },[]);\n\n\n    return(\n        <section className=\"historial\">\n            <div className=\"historial-container\">\n                { history.length === 0 &&  (\n                <>\n                <h4 className=\"title-history\">¿Aún no aprovechaste tus puntos?</h4>\n                <button className=\"btn-history\">\n                    <Link to=\"/\" style={{ textDecoration: 'none', color:'black' }}>Mirá los premios que tenemos para vos</Link>\n                </button>\n                </>\n                )}\n                {history.length > 0 && (\n                    history.slice(current*size, current*size+size\n                        ).map((history)=>\n                            <div className=\"history-product\">\n                                <img className=\"history-img\" src={history.img.url} alt={history.name}/>\n                                <h3>{history.name}</h3>\n                                <p><img src={coin} alt=\"Coin\"/> {history.cost}</p>\n                            </div>\n                        )\n                )}\n            </div>\n            <Paginador\n                pages={pages}\n                current={current}\n                handlePaginador={setCurrent} \n            />\n        </section>\n    )\n\n}\n\nexport default Historial;\n"]},"metadata":{},"sourceType":"module"}