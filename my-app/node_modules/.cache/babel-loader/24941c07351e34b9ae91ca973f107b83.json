{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Tomi_SS/Documents/acamica-frontend/proyecto04/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Tomi_SS/Documents/acamica-frontend/proyecto04/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/Tomi_SS/Documents/acamica-frontend/proyecto04/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./creditos.css';import React,{Component}from'react';import{useContext,useState}from\"react\";import{Redirect}from'react-router';import coin from\"../images/icons/coin.svg\";import{coinContext}from'../contexts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Creditos(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),credits=_useState2[0],setCredits=_useState2[1];var _useContext=useContext(coinContext),coins=_useContext.coins,setCoins=_useContext.setCoins;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),home=_useState4[0],setHome=_useState4[1];var postUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://coding-challenge-api.aerolab.co/user/points\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\",\"Authorization\":\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno\"},body:JSON.stringify({\"amount\":credits})});case 2:response=_context.sent;response.json();case 4:case\"end\":return _context.stop();}}},_callee);}));return function postUser(){return _ref.apply(this,arguments);};}();function handleClick(e){if(e.target.value==='1000'){setCredits(1000);}else if(e.target.value==='5000'){setCredits(5000);}else if(e.target.value==='7500'){setCredits(7500);}}function handleSubmit(value){postUser(value);alert(\"Exito al comprar\");setCoins(coins+credits);setHome(true);}return/*#__PURE__*/_jsx(_Fragment,{children:home?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(\"section\",{className:\"credito\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-credit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Te quedaste sin puntos\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Ahora pod\\xE9s sumar cargando tu nombre de usuario y contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Recuerda que s\\xF3lo podr\\xE1s cargar los valores que est\\xE1n prestablecidos\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input user\",placeholder:\"Usuario\",type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input pass\",placeholder:\"Contrase\\xF1a\",type:\"text\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"1000\",name:\"credit\",value:\"1000\",onChange:handleClick}),/*#__PURE__*/_jsxs(\"label\",{for:\"1000\",children:[\"1000\",/*#__PURE__*/_jsx(\"img\",{src:coin,alt:\"Coin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"5000\",name:\"credit\",value:\"5000\",onChange:handleClick}),/*#__PURE__*/_jsxs(\"label\",{for:\"5000\",children:[\"5000\",/*#__PURE__*/_jsx(\"img\",{src:coin,alt:\"Coin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"7500\",name:\"credit\",value:\"7500\",onChange:handleClick}),/*#__PURE__*/_jsxs(\"label\",{for:\"7500\",children:[\"7500\",/*#__PURE__*/_jsx(\"img\",{src:coin,alt:\"Coin\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Canjear\"})]})})]})})});}export default Creditos;","map":{"version":3,"sources":["/Users/Tomi_SS/Documents/acamica-frontend/proyecto04/my-app/src/mas-creditos/Creditos.jsx"],"names":["React","Component","useContext","useState","Redirect","coinContext","Creditos","credits","setCredits","coins","setCoins","home","setHome","postUser","fetch","method","headers","body","JSON","stringify","response","json","handleClick","e","target","value","handleSubmit","alert","coin"],"mappings":"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","sourcesContent":["import './creditos.css';\n\nimport React, { Component } from 'react';\nimport { useContext, useState } from \"react\";\n\nimport { Redirect } from 'react-router';\nimport coin from '../images/icons/coin.svg'\nimport { coinContext } from '../contexts';\n\nfunction Creditos(){\n    let [credits, setCredits]  = useState(0)\n    const {coins, setCoins} = useContext(coinContext)\n    const [home, setHome] = useState(false)\n     const postUser = async () => {\n    \n            const response = await fetch(\"https://coding-challenge-api.aerolab.co/user/points\",{\n            method: \"POST\",   \n            headers: {\n                         \"Content-Type\": \"application/json\",\n                         \"Accept\" : \"application/json\",\n                         \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGIwNTI3MjliNzc4MTAwMjA5YzVhYWIiLCJpYXQiOjE2MjIxNjgxNzh9.rvgBvfaLqxHZv-gU_GUyFz4c6hIybWT9rihd6MFTnno\",\n                     },\n                     body: JSON.stringify({\n                      \"amount\": credits\n                     })\n                 })\n                 response.json(); \n      }\n\n      function handleClick(e){\n        if (e.target.value === '1000'){\n            setCredits(1000); \n        }else if(e.target.value === '5000') {\n            setCredits(5000); \n        }else if(e.target.value === '7500') {\n            setCredits(7500); \n        }\n    }\n\n    function handleSubmit(value){\n        postUser(value) \n        alert(\"Exito al comprar\"); \n        setCoins(coins + credits)\n        setHome(true)\n    }\n\n    return(\n        <>\n        {home ? <Redirect to=\"/\"></Redirect> \n        :\n        <section className=\"credito\">\n            <div className=\"container-credit\">\n                <div className=\"text-container\">\n                    <h3>Te quedaste sin puntos</h3>\n                    <h5>Ahora podés sumar cargando tu nombre de usuario y contraseña</h5>\n                    <p>Recuerda que sólo podrás cargar los valores que están prestablecidos</p>\n                </div>\n                <div className=\"form-container\">\n                    <form action=\"\">\n                        <input className=\"input user\" placeholder=\"Usuario\" type=\"text\"/>\n                        <input className=\"input pass\" placeholder=\"Contraseña\" type=\"text\"/>\n                        <div className=\"btn-container\">\n                            <div className=\"flex\">\n                                <input type=\"radio\" id=\"1000\" name=\"credit\" value=\"1000\" onChange={handleClick} />\n                                <label for=\"1000\">1000<img src={coin} alt=\"Coin\"/></label>\n                            </div>\n                            <div className=\"flex\">\n                                <input type=\"radio\" id=\"5000\" name=\"credit\" value=\"5000\" onChange={handleClick} />\n                                <label for=\"5000\">5000<img src={coin} alt=\"Coin\"/></label>\n                            </div>\n                            <div className=\"flex\">\n                                <input type=\"radio\" id=\"7500\" name=\"credit\" value=\"7500\" onChange={handleClick} />\n                                <label for=\"7500\">7500<img src={coin} alt=\"Coin\"/></label>\n                            </div>\n                        </div>\n                        <button onClick={handleSubmit}>Canjear</button>\n                    </form>\n                </div>\n            </div>\n        </section>\n        }\n        </>\n    );\n}\n\nexport default Creditos;"]},"metadata":{},"sourceType":"module"}